<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Building a Two-Node Failover Cluster | Flash&#39;s BLOG</title>
    <meta name="description" content="對於我這種只有一點點知識又沒錢的傢伙只好自行徒手建立這BLOG">
    
    
    <link rel="preload" href="/flashlin.github.io/assets/css/0.styles.7db30d77.css" as="style"><link rel="preload" href="/flashlin.github.io/assets/js/app.104204f2.js" as="script"><link rel="preload" href="/flashlin.github.io/assets/js/2.a0c46ff0.js" as="script"><link rel="preload" href="/flashlin.github.io/assets/js/3.9297b4a6.js" as="script"><link rel="prefetch" href="/flashlin.github.io/assets/js/10.4cd7f517.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/11.74842217.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/12.21813e33.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/13.b2220085.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/14.af8747b1.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/15.d46c881d.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/16.df726e5a.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/17.751a56dd.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/18.ced99ea7.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/19.784f80fd.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/20.1ba7b97c.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/21.b86194f2.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/22.ca3c555a.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/23.91ab00da.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/24.e14f4c86.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/25.fd7a74fc.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/26.f8dd001a.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/27.0f8d6aa8.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/28.24ddaf3c.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/29.9466e5e2.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/30.dbf3f856.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/31.df3fb494.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/32.8daf6a6f.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/33.39fcfdbb.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/34.da71a6b9.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/35.6dc303fb.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/36.f10afcaa.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/37.420adfc5.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/38.5a425cbb.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/39.36d0cb80.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/4.b5f9a0e1.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/40.1499de4d.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/41.14d9d7db.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/42.f61d007c.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/43.d37b63e4.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/44.9b5ae282.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/45.7ad74a9c.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/5.457f23db.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/6.d5aa2ec5.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/7.bea60683.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/8.b5dfa2b5.js"><link rel="prefetch" href="/flashlin.github.io/assets/js/9.3ecb4840.js">
    <link rel="stylesheet" href="/flashlin.github.io/assets/css/0.styles.7db30d77.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/flashlin.github.io/" class="home-link router-link-active"><!----> <span class="site-name">Flash's BLOG</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/flashlin.github.io/" class="nav-link">Home</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/flashlin.github.io/" class="nav-link">Home</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Home</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/flashlin.github.io/" class="sidebar-link">ReadMe</a></li><li><a href="/flashlin.github.io/ARecent.html" class="sidebar-link">最近更新內容</a></li><li><a href="/flashlin.github.io/Build Failover Cluster.html" class="active sidebar-link">Building a Two-Node Failover Cluster</a></li><li><a href="/flashlin.github.io/DotNet-HttpModule.html" class="sidebar-link">DotNet HttpModule</a></li><li><a href="/flashlin.github.io/ElectronNET.html" class="sidebar-link">Electron.NET 入門</a></li><li><a href="/flashlin.github.io/ExtraVue.html" class="sidebar-link">用ExtraVuex 寫TicTacToe 井字遊戲</a></li><li><a href="/flashlin.github.io/Git.html" class="sidebar-link">Git</a></li><li><a href="/flashlin.github.io/GoogleAnalyticsReport.html" class="sidebar-link">C# Google Analytics Report API</a></li><li><a href="/flashlin.github.io/Keras.html" class="sidebar-link">Keras</a></li><li><a href="/flashlin.github.io/Nginx-Rtmp-Server.html" class="sidebar-link">Nginx Rtmp Server</a></li><li><a href="/flashlin.github.io/OWASP TOP 10.html" class="sidebar-link">OWASP TOP 10</a></li><li><a href="/flashlin.github.io/Robocopy.html" class="sidebar-link">Robocopy 指令範例參考</a></li><li><a href="/flashlin.github.io/SQL-Joins.html" class="sidebar-link">SQL Joins Syntax</a></li><li><a href="/flashlin.github.io/Secutiry Misconfiguration.html" class="sidebar-link">OWASP-2013-A5 Security Misconfiguration (安全配置錯誤)</a></li><li><a href="/flashlin.github.io/SignalR.html" class="sidebar-link">SignalR</a></li><li><a href="/flashlin.github.io/TimescaleDB.html" class="sidebar-link">TimescaleDB</a></li><li><a href="/flashlin.github.io/VuePress-Tutorial.html" class="sidebar-link">VuePress + Github 取代 Gitbook or Blog</a></li><li><a href="/flashlin.github.io/Webpack.html" class="sidebar-link">WebPack</a></li><li><a href="/flashlin.github.io/Yarn.html" class="sidebar-link">Yarn</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Database</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>DotNet-Core</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>DotNet</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Typescripts</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>設計守則</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>錯誤集錦</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="building-a-two-node-failover-cluster"><a href="#building-a-two-node-failover-cluster" aria-hidden="true" class="header-anchor">#</a> Building a Two-Node Failover Cluster</h3> <p>為了證明我的C# Library 可以進行DB-Failover, 只好建立模擬環境來證明.</p> <p>設定 Cluster 步驟超複雜的, 特此紀錄.
準備Windows 2012 R2 Server</p> <p><img src="/flashlin.github.io/assets/img/Cluster-Network.e8c0896d.png" alt=""></p> <h2 id="build-sql-dc"><a href="#build-sql-dc" aria-hidden="true" class="header-anchor">#</a> Build SQL-DC</h2> <p>網路卡設定如下
<img src="/flashlin.github.io/assets/img/SQL-DC-Network.f4932d0b.png" alt=""></p> <h3 id="建立-disk"><a href="#建立-disk" aria-hidden="true" class="header-anchor">#</a> 建立 disk</h3> <p>我們必須建立4 個 iSCSI virtual disk</p> <ul><li>仲裁磁碟 (Quorum Disk) 1G (沒有見證磁碟似乎也可以)</li> <li>MSDTC (分散式交易) 500M (建議使用1G)</li> <li>SQL Server專用磁碟 8G</li> <li>SQL Server專用磁碟 5G</li></ul> <h3 id="新增-active-directory-domain-services"><a href="#新增-active-directory-domain-services" aria-hidden="true" class="header-anchor">#</a> 新增 Active Directory Domain Services</h3> <p><img src="/flashlin.github.io/assets/img/Build-AD-01.447a952e.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Build-AD-02.2b232d8e.png" alt="Ad Active Directory Domain Services"></p> <p><img src="/flashlin.github.io/assets/img/Build-AD-03.f213d40a.png" alt="Confirm installation Ad Active Directory Domain Services"></p> <p><img src="/flashlin.github.io/assets/img/Build-AD-04.18bddc5c.png" alt="跑完之後點取更新,點取驚嘆號"></p> <p><img src="/flashlin.github.io/assets/img/Build-AD-05.f93cd326.png" alt="新增樹系"></p> <p><img src="/flashlin.github.io/assets/img/Build-AD-06.ac4fc376.png" alt="輸入 DSRM 密碼"></p> <p><img src="/flashlin.github.io/assets/img/Build-AD-07.a3999b2f.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Build-AD-08.adfdac42.png" alt=""></p> <p>採用預設值就可以了
<img src="/flashlin.github.io/assets/img/Build-AD-09.1bd6bbc3.png" alt="採用預設值就可以了"></p> <p>點取安裝
<img src="/flashlin.github.io/assets/img/Build-AD-10.500575c7.png" alt=""></p> <p>Waiting
<img src="/flashlin.github.io/assets/img/Build-AD-11.97911945.png" alt=""></p> <p>它會自動 Reboot, 之後</p> <p>測試一下</p> <blockquote><p>ping demo.com</p></blockquote> <p><img src="/flashlin.github.io/assets/img/Build-AD-12.586f8e7a.png" alt=""></p> <p>AD安裝完之後, 加入Reverse Lookup Zone
<img src="/flashlin.github.io/assets/img/Build-AD-13.ef8b2c80.png" alt=""></p> <p>New Zone
<img src="/flashlin.github.io/assets/img/Build-AD-14.7e975933.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Build-AD-15.e97c3b9f.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Build-AD-16.51ee9f7f.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Build-AD-17.97dfdc21.png" alt=""></p> <p>輸入Network ID: 192.168.75
<img src="/flashlin.github.io/assets/img/Build-AD-18.7859749e.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Build-AD-19.d8c7b868.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Build-AD-20.b1553986.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Build-AD-21.c4d8c432.png" alt=""></p> <p>建立好之後, 在 command window 輸入下面指令</p> <div class="language- extra-class"><pre class="language-text"><code>ipconfig /flushdns
ipconfig /registerdns
</code></pre></div><p>資料就會寫到Reverse Lookup Zone之中了，如下
<img src="/flashlin.github.io/assets/img/Build-AD-22.560104a4.png" alt=""></p> <h2 id="set-sql-a-node"><a href="#set-sql-a-node" aria-hidden="true" class="header-anchor">#</a> Set SQL-A Node</h2> <p>修改電腦名稱為SQL-A，並重新開機，</p> <blockquote><p>netdom renamecomputer %computername% /newname:SQL-A</p></blockquote> <p>重開機登入後，再來將SQL-A加入demo.com 網域</p> <blockquote><p>netdom join SQL-A /domain:demo.com</p></blockquote> <p>再重開機然後以 administrator@demo.com 登入!</p> <p><img src="/flashlin.github.io/assets/img/Join-AD.bdec667d.png" alt=""></p> <p>設定 HeartBeat 網路卡 IP</p> <p><img src="/flashlin.github.io/assets/img/HeartBeat.ebcca1f8.png" alt=""></p> <p>注意: 順便設定 DNS 不要勾選 Register this connection's addresses in DNS</p> <p><img src="/flashlin.github.io/assets/img/HeartBeat-2.0a067875.png" alt=""></p> <p>WINS 設定注意
<img src="/flashlin.github.io/assets/img/SQL-A-HeartBeat-Wins.2a5c3494.png" alt=""></p> <p>另外一張網卡
<img src="/flashlin.github.io/assets/img/SQL-A-iSCSI-Network.f3a4bdb2.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/SQL-A-Set-iSCSI-Initiator-01.0eaaea0d.png" alt="iSCSI Initiator Target"></p> <p><img src="/flashlin.github.io/assets/img/SQL-A-Set-iSCSI-Initiator-02.a6913812.png" alt="Volumes and Devices"></p> <p><img src="/flashlin.github.io/assets/img/SQL-A-Set-iSCSI-Initiator-03.9e5c9616.png" alt="Disk"></p> <p><img src="/flashlin.github.io/assets/img/SQL-A-Set-iSCSI-Initiator-04.5850fd71.png" alt="Simple Volume"></p> <p><img src="/flashlin.github.io/assets/img/SQL-A-Set-iSCSI-Initiator-05.06fdd8d4.png" alt="Assign Drive Letter"></p> <p><img src="/flashlin.github.io/assets/img/SQL-A-Set-iSCSI-Initiator-06.4a860e21.png" alt="Format Partition"></p> <p>SQL-A, SQL-B共享磁碟設定完成後，就可以再設定&quot;容錯轉移叢集&quot;</p> <p>新增「應用程式伺服器」角色，並勾選以下Features及Role Services，
<img src="/flashlin.github.io/assets/img/Start-Failover-01.cbfaa30f.png" alt="Start Failover"></p> <p>因為安裝SQL Server 2012需要.NET 3.5，所以就一併的新增安裝進來!
<img src="/flashlin.github.io/assets/img/Start-Failover-02.53cb9215.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Start-Failover-02-1.03a43238.png" alt=""></p> <p>![]
(./Build-Failover-Cluster/Start-Failover-03.png)</p> <p><img src="/flashlin.github.io/assets/img/Start-Failover-04.b9a710fe.png" alt="Confirm installation selections"></p> <p>D:\Sources\sxs<br> <img src="/flashlin.github.io/assets/img/Start-Failover-04-1.9c6cdbdb.png" alt="Specify Alternate Source Path"></p> <p><img src="/flashlin.github.io/assets/img/Start-Failover-05.d97a3741.png" alt="Installation progress"></p> <p><img src="/flashlin.github.io/assets/img/Start-Failover-07.4891865d.png" alt=""></p> <p>Add Failover Clustering
<img src="/flashlin.github.io/assets/img/Start-Failover-08.ac721f7b.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Start-Failover-09.ca91706e.png" alt=""></p> <p>開始 Failover Manager</p> <p><img src="/flashlin.github.io/assets/img/Start-Failover-10.30d83c01.png" alt=""></p> <p>注意請一定要加入 domain 否則會出現此警告</p> <p><img src="/flashlin.github.io/assets/img/Start-Failover-11.e07ff320.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Start-Failover-12.cf4e2d6f.png" alt=""></p> <p>輸入 SQL-A.demo.com , 然後點取 Add
注意: 如果每一個SQL-n 節點電腦沒有完成網路和iSCSI設定, 就會出現 The node cannot be contacted 錯誤</p> <p><img src="/flashlin.github.io/assets/img/Start-Failover-13.0fc70391.png" alt=""></p> <p>全部加入</p> <p><img src="/flashlin.github.io/assets/img/Start-Failover-14.e99668df.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Start-Failover-15.6a0c26c1.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Start-Failover-16.bd05ab84.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Start-Failover-17.1880cfa7.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Start-Failover-18.3ca41a7f.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Start-Failover-19.398239da.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Start-Failover-20.f6e285b5.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Start-Failover-21.e3c4aa51.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Start-Failover-22.0c9ce969.png" alt=""></p> <p>建立完成之後, 在 Failover Cluster Manager 中可以看到
WIN-CS.demo.com 資訊如下</p> <p><img src="/flashlin.github.io/assets/img/Start-Failover-23.1e273224.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Start-Failover-24.d394c0ab.png" alt=""></p> <p>在這個地方可以改成比較容易識別的名稱
<img src="/flashlin.github.io/assets/img/Start-Failover-25.5656e4c8.png" alt=""></p> <p>連到SQL-B，開啟Failover Cluster Manager也可以看到相同的設定。</p> <p>建立好基本的Windows Cluster之後，我們需要再建立DTC，如下，</p> <p><img src="/flashlin.github.io/assets/img/Start-Failover-26.87c0db2d.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Start-Failover-27.283ff2df.png" alt=""></p> <p>給 DTC 的名稱
Name:WIN-DTC
IP:192.168.75.50</p> <p><img src="/flashlin.github.io/assets/img/Start-Failover-28.7152a62b.png" alt=""></p> <p>選取 1G 大小的 iSCSI virtual disk
<img src="/flashlin.github.io/assets/img/Start-Failover-29.d24fbae0.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Start-Failover-30.85393fbd.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Start-Failover-31.1a4634c0.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Start-Failover-32.6e0888b3.png" alt=""></p> <p>接下來，就是設定SQL Server 2012 Cluster。
因為目前的Owner Server是SQL-B，所以就在SQL-B中安裝，</p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-00.1fb64a89.png" alt=""></p> <p>選取</p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-01.51e1abfe.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-02.83b12f41.png" alt=""></p> <p>假如你有這種警告
<img src="/flashlin.github.io/assets/img/Install-SQL2012-03.792c6e85.png" alt=""></p> <p>進入網路控制台
<img src="/flashlin.github.io/assets/img/Install-SQL2012-04.414b36c8.png" alt=""></p> <p>讓Panel 顯示 Menu 選單 (File Edit View Tools Advanced Help)</p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-05.2f4279fa.png" alt=""></p> <p>選取 Advanced Settings...</p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-06.06f59dd2.png" alt=""></p> <p>把iSCSI 網路卡往上移動到第一個</p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-07.db27ca31.png" alt=""></p> <p>檢查沒問題之後, 點取下一步</p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-08.d012c062.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-09.7eb2bcc7.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-10.1d12c038.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-11.bcc4d016.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-12.1717539c.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-13.b6a602a7.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-14.5f97427d.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-15.bbaa91bf.png" alt=""></p> <p>剛剛設定到了50, 所以這裡IP設定為192.168.75.60</p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-16.8813eb35.png" alt=""></p> <p>因為測試, 所以直接給domain 的administrator 帳號</p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-17.a23887d5.png" alt=""></p> <p>目前iSCSI Virtual Disk 有 G: H:</p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-18.9e370705.png" alt=""></p> <p>確認一下資料庫資料是存放在iSCSI Virtual Disk G:</p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-19.eba8e7c9.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-20.36852c7f.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-21.75245b8c.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-22.8690b1e9.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-23.75b15831.png" alt=""></p> <p>確認安裝完成了!</p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-24.a2876594.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-25.7b9444c6.png" alt=""></p> <p>SQL-B中的SQL Server 2012 Cluster裝好了之後，要到SQL-A加進去Cluster之中。</p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-26.5e2aabd1.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-27.74fa9333.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-28.622ae923.png" alt=""></p> <p>確認為this node:SQL-A</p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-29.aa2d9b7b.png" alt=""></p> <p>它會自動找到 failover cluster IP</p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-30.ed33bf43.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-31.78c73f25.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-32.7b372185.png" alt=""></p> <p>安裝完成後，可將SQL Server(原本在SQL-B) 移到SQL-A，看看是否會OK!</p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-33.a1cc5334.png" alt=""></p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-35.fdfe3751.png" alt=""></p> <p>可以發現原本SQL-A 的 SQL 服務沒有啟動, 這個時候就會啟動了</p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-34.5e780b58.png" alt=""></p> <p>到SQL-DC 打開 DNS Manager, 可以確認所有</p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-36.6a455b00.png" alt=""></p> <p>Open VMWare -&gt; Edit -&gt; Virtual Network Editor</p> <p>新增</p> <p><img src="/flashlin.github.io/assets/img/Install-SQL2012-37.5826688b.png" alt=""></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/flashlin.github.io/ARecent.html" class="prev">最近更新內容</a></span> <span class="next"><a href="/flashlin.github.io/DotNet-HttpModule.html">DotNet HttpModule</a>→
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/flashlin.github.io/assets/js/app.104204f2.js" defer></script><script src="/flashlin.github.io/assets/js/2.a0c46ff0.js" defer></script><script src="/flashlin.github.io/assets/js/3.9297b4a6.js" defer></script>
  </body>
</html>
