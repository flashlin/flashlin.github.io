(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{373:function(a,t,e){"use strict";e.r(t);var n=e(0),r=Object(n.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"robocopy-指令範例參考"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#robocopy-指令範例參考","aria-hidden":"true"}},[a._v("#")]),a._v(" Robocopy 指令範例參考")]),a._v(" "),e("h2",{attrs:{id:"實例-文件，想怎麼複製就怎麼複製"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#實例-文件，想怎麼複製就怎麼複製","aria-hidden":"true"}},[a._v("#")]),a._v(" 實例: 文件，想怎麼複製就怎麼複製")]),a._v(" "),e("p",[a._v("將來源資料夾中的純文本（TXT）、Word我的文件（DOC）還有BMP、TIF圖像文件複製到目標資料夾中。")]),a._v(" "),e("blockquote",[e("p",[a._v("robocopy d:\\work e:\\back *.txt *.doc *.bmp *.tif /s")])]),a._v(" "),e("h3",{attrs:{id:"參數講解"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#參數講解","aria-hidden":"true"}},[a._v("#")]),a._v(" 參數講解")]),a._v(" "),e("p",[a._v("將d:\\work文件下的TXT、DOC、BMP、TIF複製到e:\\back資料夾，其他文件則不複製。/s是表示包括除空文件下的所有子目錄，如果沒有則僅複製d:\\work下的文件而不包括子目錄。")]),a._v(" "),e("h3",{attrs:{id:"舉一反三"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#舉一反三","aria-hidden":"true"}},[a._v("#")]),a._v(" 舉一反三")]),a._v(" "),e("ul",[e("li",[a._v("如果要將資料夾下的所有文件包括空資料夾全部複製到目標資料夾，指令為：")])]),a._v(" "),e("blockquote",[e("p",[a._v("robocopy d:\\work e:\\back /e")])]),a._v(" "),e("p",[a._v("/e表示複製所有子目錄包括空資料夾。")]),a._v(" "),e("ul",[e("li",[a._v("如果只想複製兩個層級內的文件（再下的層級裡的文件則不拷貝），輸入指令：")])]),a._v(" "),e("blockquote",[e("p",[a._v("robocopy d:\\work e:\\back /e /lev:2")])]),a._v(" "),e("p",[a._v("/lev:2表示複製的層級，比如指定層級後d:\\work\\soft（二級）下的文件會被複製，而d:\\work\\soft\\office（三級）下的文件則不被複製。")]),a._v(" "),e("h2",{attrs:{id:"實例-垃圾文件不複製"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#實例-垃圾文件不複製","aria-hidden":"true"}},[a._v("#")]),a._v(" 實例: 垃圾文件不複製")]),a._v(" "),e("p",[a._v("在製作備份資料時，不可避免會將類似於*.bak、*.tmp的垃圾文件也複製到目標資料夾，用Robocopy可以將我們經常碰到的垃圾文件在拷貝時就清理出家門，從而產生一個乾乾淨淨的資料夾。")]),a._v(" "),e("blockquote",[e("p",[a._v("robocopy d:\\work e:\\back /e /xf *.tmp *.bak")])]),a._v(" "),e("p",[a._v("[參數講解]\n/xf為指定不執行複製操作的檔案類型，後面的檔案名支持萬用字元。如果參數為/xd，則表示排除後面指定的資料夾。")]),a._v(" "),e("h2",{attrs:{id:"實例-大文件-我不要"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#實例-大文件-我不要","aria-hidden":"true"}},[a._v("#")]),a._v(" 實例:大文件 我不要")]),a._v(" "),e("p",[a._v("複製的時候，為了節省時間，需要將一些大文件暫時不拷貝，等有空閒時間時，再執行複製操作不遲。")]),a._v(" "),e("blockquote",[e("p",[a._v("robocopy d:\\work e:\\back /e /max:6000000")])]),a._v(" "),e("p",[a._v("[參數講解]\n僅複製不大於6000000bytes的文件，/max:後直接接數值，數值服務機構為byte。如果是/min:1000，則複製不小於1000bytes的文件。兩個參數可以同時使用，界定複製文件大小的範圍。")]),a._v(" "),e("h2",{attrs:{id:"實例-只要這一週修改的文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#實例-只要這一週修改的文件","aria-hidden":"true"}},[a._v("#")]),a._v(" 實例:只要這一週修改的文件")]),a._v(" "),e("blockquote",[e("p",[a._v("robocopy d:\\work e:\\look /s *.txt *.doc *.xls *.ppt /maxage:7")])]),a._v(" "),e("p",[a._v("[參數講解]\n/maxage:表示最遠修改時間的，修改時間比這個還要舊的文件將不會被複製。/maxage:後可接數位，也可以接日期，數位小於1900時表示天數，否則就得用YYYYMMDD來表示具體的日期\n如/maxage:20040210表示2004年2月10日後被修改的文件才允許複製。與之相對應的參數是/minage，表示最近修改時間，比這個時間新的文件將不被複製。")]),a._v(" "),e("p",[a._v("[舉一反三]")]),a._v(" "),e("blockquote",[e("p",[a._v("robocopy d:\\work e:\\look /s *.txt *.doc *.xls *.ppt /maxage:7 /minage:1")])]),a._v(" "),e("p",[a._v("則表示近七天內除今天外修改的文件才允許被複製。\n與修改時間相對的還有最近訪問時間，/maxage指最遠訪問時間，比這個時間老的文件將不被複製。/minage是指最近訪問時間，比這個時間新的文件將不被複製。")]),a._v(" "),e("h2",{attrs:{id:"實例-完全複製"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#實例-完全複製","aria-hidden":"true"}},[a._v("#")]),a._v(" 實例:完全複製")]),a._v(" "),e("blockquote",[e("p",[a._v("robcopy d:\\work e:\\look /mir")])]),a._v(" "),e("p",[a._v("[參數講解]\n/mir的作用等同於/purge /e，/purge表示清理目標資料夾有而源資料夾裡沒有的文件（夾）。通過這個指令，能保證源資料夾和目標資料夾結構與文件完全相同。")]),a._v(" "),e("h2",{attrs:{id:"實例-移動文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#實例-移動文件","aria-hidden":"true"}},[a._v("#")]),a._v(" 實例: 移動文件")]),a._v(" "),e("p",[a._v("如果我們要將資料夾移動到目標資料夾，如何操作呢？")]),a._v(" "),e("blockquote",[e("p",[a._v("robocopy d:\\work e:\\look /move /e")])]),a._v(" "),e("p",[a._v("[參數講解]\n其中，/move表示移動。")]),a._v(" "),e("h2",{attrs:{id:"實例-隱藏文件我不要"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#實例-隱藏文件我不要","aria-hidden":"true"}},[a._v("#")]),a._v(" 實例: 隱藏文件我不要")]),a._v(" "),e("p",[a._v("在預設值狀態下，隱藏文件是並不顯示的，但在複製的程序中，它還會隨著資料夾一起被複製。")]),a._v(" "),e("blockquote",[e("p",[a._v("robocopy d:\\work e:\\back /e /xa:h")])]),a._v(" "),e("p",[a._v("[參數講解]\n/xa:h，表示將具有隱藏內容的排除出複製範圍，與之相對應的是/ia，表示包括只對擁有指定內容的執行操作。內容有R：只讀，A：存檔，S：系統，H：隱藏等幾種供選項。")]),a._v(" "),e("p",[a._v("[舉一反三]")]),a._v(" "),e("ul",[e("li",[a._v("此外，Robocopy還有/a+、/a-等參數對文件內容進行操作，分別表示在文件被拷貝後為文件增加、去除某內容。")])]),a._v(" "),e("blockquote",[e("p",[a._v("robocopy d:\\work e:\\back /ia:rs")])]),a._v(" "),e("p",[a._v("表示只複製具有只讀和系統內容的文件。")]),a._v(" "),e("blockquote",[e("p",[a._v("robocopy c:\\ d:\\ /-a:rsh")])]),a._v(" "),e("p",[a._v("表示將檔案拷貝到D碟後，將拷貝產生的文件的只讀、系統、隱藏內容去掉，以方便檢視和修改。")]),a._v(" "),e("h2",{attrs:{id:"如果需求就是差異化備份，那常用的參數為："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如果需求就是差異化備份，那常用的參數為：","aria-hidden":"true"}},[a._v("#")]),a._v(" 如果需求就是差異化備份，那常用的參數為：")]),a._v(" "),e("blockquote",[e("p",[a._v("robocopy %1 %2 /R:0 /W:0 /E /TEE /NFL /NDL /XO /PURGE /DCOPY:T /COPYALL /xf *.suo /xd obj bin node_modules TestResults .vs .svn")])]),a._v(" "),e("p",[a._v("robocopy E:\\ U:\\ /e /dcopy:t /xo /xa:sh /xj /unicode /eta")]),a._v(" "),e("p",[a._v("Windows 系列的指令沒有大小寫之分。這些參數所代表的如下:")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("/e 複製所有的子資料夾，包含空的資料夾。")])]),a._v(" "),e("li",[e("p",[a._v("/dcopy:t 保留所有檔案與資料夾的時間戳記。")])]),a._v(" "),e("li",[e("p",[a._v("/xo 如果已有相同的檔案，且時間相同或較舊就跳過。注意不是零")])]),a._v(" "),e("li",[e("p",[a._v("/xa:sh 跳過屬性為 s (系統) 與 h (隱藏) 的檔案。因為是複製整個硬碟，預設會連 Windows 隱藏的系統檔都複製過去，所以要排除。")])]),a._v(" "),e("li",[e("p",[a._v("/xj 跳過 NTFS junction 檔案")])]),a._v(" "),e("li",[e("p",[a._v("/unicode 畫面上的進度資訊以 unicode 顯示，若是操作非中文及英文檔名，這參數可以正確顯示名稱。有無開啟並不影響檔案複製、移動等操作，只是差在畫面顯示正不正確。")])]),a._v(" "),e("li",[e("p",[a._v("/eta 顯示預計完成時間")])]),a._v(" "),e("li",[e("p",[a._v("/PURGE 如果目的端有來源端不存在的檔案或目錄，則刪除目的端的檔案, 聽說這個參數有問題，小心使用")])]),a._v(" "),e("li",[e("p",[a._v("/R      失敗複本的重試次數")])]),a._v(" "),e("li",[e("p",[a._v("/NFL    畫面上不會秀出備份檔案的明細")])]),a._v(" "),e("li",[e("p",[a._v("/NDL    畫面上不會秀出備份目錄的明細")])]),a._v(" "),e("li",[e("p",[a._v("/NJH     畫面上不會秀出工作標頭")])]),a._v(" "),e("li",[e("p",[a._v("/MT     以 n 個執行緒執行多執行緒複製，n 必須至少為 1，但不可以大於 128")])])]),a._v(" "),e("h2",{attrs:{id:"下面列出完整的參數說明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#下面列出完整的參數說明","aria-hidden":"true"}},[a._v("#")]),a._v(" 下面列出完整的參數說明")]),a._v(" "),e("h3",{attrs:{id:"複製選項"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#複製選項","aria-hidden":"true"}},[a._v("#")]),a._v(" 複製選項:")]),a._v(" "),e("hr"),a._v(" "),e("pre",[e("code",[a._v("             /S :: 複製子目錄，但不複製空的子目錄。\n             /E :: 複製子目錄，包括空的子目錄。\n         /LEV:n :: 僅複製原始目錄樹的前 n 層。\n             /Z :: 在可重新開機模式下複製檔。\n             /B :: 在備份模式下複製檔。\n            /ZB :: 使用可重新開機模式；如果拒絕訪問，請使用備份模式。\n        /EFSRAW :: 在 EFS RAW 模式下複製所有加密的檔。\n  /COPY:複製標記:: 要複製的檔內容(預設為 /COPY:DAT)。\n                   (複製標記: D=資料，A=屬性，T=時間戳記)。\n                   (S=安全=NTFS ACL，O=所有者資訊，U=審核資訊)。\n       /DCOPY:T :: 複製目錄時間戳記。\n           /SEC :: 複製具有安全性的檔(等同於 /COPY:DATS)。\n       /COPYALL :: 複製所有檔資訊(等同於 /COPY:DATSOU)。\n        /NOCOPY :: 不複製任何檔資訊(與 /PURGE 一起使用生效)。\n        /SECFIX :: 修復所有檔的檔安全性，即使是跳過的文件。\n        /TIMFIX :: 修復所有檔的檔時間，即使是跳過的檔。\n         /PURGE :: 刪除來源中不再存在的目的檔案/目錄。\n           /MIR :: 鏡像目錄樹(等同於 /E 和 /PURGE)。\n           /MOV :: 移動檔(複製後從源中刪除)。\n          /MOVE :: 移動檔和目錄(複製後從源中刪除)。\n /A+:[RASHCNET] :: 將給定的屬性添加到複製檔。\n /A-:[RASHCNET] :: 從複製檔中刪除給定的屬性。\n        /CREATE :: 僅創建目錄樹和長度為零的檔。\n           /FAT :: 僅使用 8.3 FAT 檔案名創建目的檔案。\n           /256 :: 關閉超長路徑(> 256 字元)支援。\n         /MON:n :: 監視源；發現多於 n 個更改時再次運行。\n         /MOT:m :: 監視源；如果更改，在 m 分鐘時間內再次運行。\n  /RH:hhmm-hhmm :: 運行小時數 - 可以啟動新副本的時間。\n            /PF :: 以每個檔(而不是每個步驟)為基礎檢查運行小時數。\n         /IPG:n :: 套裝程式間的間距(ms)，以釋放低速線路上的頻寬。\n")])]),a._v(" "),e("h3",{attrs:{id:"檔選擇選項"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#檔選擇選項","aria-hidden":"true"}},[a._v("#")]),a._v(" 檔選擇選項:")]),a._v(" "),e("hr"),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("                 /A :: 僅複製具有存檔屬性集的檔。\n                 /M :: 僅複製具有存檔屬性的檔並重置存檔屬性。\n    /IA:[RASHCNETO] :: 僅包含具有任意給定屬性集的檔。\n    /XA:[RASHCNETO] :: 排除具有任意給定屬性集的檔\n  /XF 文件[文件]... :: 排除與給定名稱/路徑/萬用字元匹配的檔。\n  /XD 目錄[目錄]... :: 排除與給定名稱/路徑匹配的目錄。\n                /XC :: 排除已更改的文件。\n                /XN :: 排除較新的檔。\n                /XO :: 排除較舊的文件。\n                /XX :: 排除多餘的檔和目錄。\n                /XL :: 排除孤立的檔和目錄。\n                /IS :: 包含相同檔。\n                /IT :: 包含已調整的檔。\n             /MAX:n :: 最大的檔大小 - 排除大於 n 位元組的檔。\n             /MIN:n :: 最小的檔大小 - 排除小於 n 位元組的檔。\n          /MAXAGE:n :: 最長的檔存在時間 - 排除早於 n 天/日期的檔。\n          /MINAGE:n :: 最短的檔存在時間 - 排除晚於 n 天/日期的檔。\n          /MAXLAD:n :: 最大的最後訪問日期 - 排除自 n 以來未使用的檔。\n          /MINLAD:n :: 最小的最後訪問日期 - 排除自 n 以來使用的檔。\n                       (If n < 1900 then n = n days, else n = YYYYMMDD date)。\n                /XJ :: 排除接合點。(預設情況下通常包括)。\n               /FFT :: 假設 FAT 檔時間(2 秒細微性)。\n               /DST :: 彌補 1 小時的 DST 時間差。\n               /XJD :: 排除目錄的接合點。\n               /XJF :: 排除文件的接合點。\n")])])]),e("h3",{attrs:{id:"重試選項"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#重試選項","aria-hidden":"true"}},[a._v("#")]),a._v(" 重試選項:")]),a._v(" "),e("hr"),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("/R:n :: 失敗副本的重試次數: 默認為 1 百萬。\n/W:n :: 兩次重試間的等待時間: 默認為 30 秒。\n/REG :: 將註冊表中的 /R:n 和 /W:n 保存為默認設置。\n/TBD :: 等待定義共用名稱稱(重試錯誤 67)。\n")])])]),e("h3",{attrs:{id:"日誌記錄選項"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#日誌記錄選項","aria-hidden":"true"}},[a._v("#")]),a._v(" 日誌記錄選項:")]),a._v(" "),e("hr"),a._v(" "),e("pre",[e("code",[a._v("             /L :: 僅列出 - 不複製、添加時間戳記或刪除任何檔。\n             /X :: 報告所有多餘的文件，而不只是選中的檔。\n             /V :: 生成詳細輸出，同時顯示跳過的檔。\n            /TS :: 在輸出中包含原始檔案的時間戳記。\n            /FP :: 在輸出中包含檔的完整路徑名稱。\n         /BYTES :: 以位元組列印大小。\n            /NS :: 無大小 - 不記錄檔大小。\n            /NC :: 無類別 - 不記錄檔類別。\n           /NFL :: 無檔清單 - 不記錄檔案名。\n           /NDL :: 無目錄清單 - 不記錄目錄名稱。\n            /NP :: 無進度 - 不顯示已複製的百分比。\n           /ETA :: 顯示複製檔的預期到達時間。\n       /LOG:文件:: 將狀態輸出到日誌檔(覆蓋現有日誌)。\n      /LOG+:文件:: 將狀態輸出到日誌檔(附加到現有日誌中)。\n    /UNILOG:文件:: 以 UNICODE 方式將狀態輸出到日誌檔(覆蓋現有日誌)。\n   /UNILOG+:文件:: 以 UNICODE 方式將狀態輸出到日誌檔(附加到現有日誌中)。\n           /TEE :: 輸出到控制台視窗和日誌檔。\n           /NJH :: 沒有作業標頭。\n           /NJS :: 沒有作業摘要。\n       /UNICODE :: 以 UNICODE 方式輸出狀態。\n")])]),a._v(" "),e("h3",{attrs:{id:"作業選項"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#作業選項","aria-hidden":"true"}},[a._v("#")]),a._v(" 作業選項 :")]),a._v(" "),e("hr"),a._v(" "),e("pre",[e("code",[a._v("   /JOB:作業名稱:: 從命名的作業檔中提取參數。\n  /SAVE:作業名稱:: 將參數保存到命名的作業檔\n          /QUIT :: 處理命令列後退出(以查看參數)。\n          /NOSD :: 未指定原始目錄。\n          /NODD :: 未指定目標目錄。\n            /IF :: 包含以下檔。")])])])}),[],!1,null,null,null);t.default=r.exports}}]);